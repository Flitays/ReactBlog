{"version":3,"sources":["components/UI/modal/MyModal.module.css","components/UI/input/MyInput.module.css","components/UI/select/MySelect.module.css","components/UI/button/MyButton.module.css","components/UI/loader/Loader.module.css","API/PostService.js","components/ClassCounter.jsx","components/UI/input/MyInput.jsx","components/UI/select/MySelect.jsx","components/PostFilter.jsx","components/UI/button/MyButton.jsx","components/PostForm.jsx","components/PostItem.jsx","components/PostList.jsx","components/UI/loader/Loader.jsx","components/UI/modal/MyModal.jsx","utils/page.js","components/UI/pagination/pagintaion.jsx","hooks/usePosts.js","App.js","hooks/useFetching.js","index.js"],"names":["module","exports","PostService","limit","page","axios","get","params","_limit","_page","response","React","Component","MyInput","forwardRef","props","ref","className","classes","myInp","MySelect","option","defaultValue","value","onChange","mySelect","event","target","disabled","map","name","PostFilter","filter","setFilter","placeHolder","query","e","sort","selectedSort","MyButton","children","myBtn","PostForm","create","useState","title","body","post","setPost","type","placeholder","onClick","preventDefault","newPost","id","Date","now","PostItem","remove","PostList","posts","length","style","textAlign","TransitionGroup","index","CSSTransition","timeout","classNames","number","Loader","cl","loader","MyModal","visible","setVisible","rootClasses","myModal","push","active","join","myModalContent","stopPropagation","getPageCount","totalCount","Math","ceil","Pagination","totalPages","changePage","pagesArray","result","i","getPagesArray","p","usePosts","sortedPosts","useMemo","a","b","localeCompare","useSortedPosts","toLowerCase","includes","App","setPosts","modal","setModal","setTotalPages","setPage","sortedAndSearchedPosts","callback","isLoading","setIsLoading","error","setError","fetching","message","useFetching","getAll","data","headers","fetchPosts","isPostsLoading","postError","useEffect","marginTop","margin","display","justifyContent","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1ba3a6f2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__3-njB\",\"myModalContent\":\"MyModal_myModalContent__1sOIN\",\"active\":\"MyModal_active__2Wayt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInp\":\"MyInput_myInp__Nhc7C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mySelect\":\"MySelect_mySelect__35Zja\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"MyButton_myBtn__3KCPj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader___oOPE\",\"rotate\":\"Loader_rotate__1r23T\"};","import axios from \"axios\";\r\n\r\nexport default class PostService {\r\n  static async getAll(limit = 10, page = 1) {\r\n    const response = await axios.get(\r\n      'https://jsonplaceholder.typicode.com/posts', {\r\n          params:{\r\n              _limit: limit,\r\n              _page: page\r\n          }\r\n      }\r\n    );\r\n\r\n    return response;\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nclass ClassCounter extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      count: 0,\r\n    };\r\n\r\n    this.Increment = this.Increment.bind(this)\r\n    this.Decrement = this.Decrement.bind(this)\r\n  }\r\n\r\n  Increment() {\r\n    this.setState({ count: (this.state.count + 1) });\r\n  }\r\n\r\n  Decrement() {\r\n    this.setState({ count: (this.state.count - 1) });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>{this.state.count}</h1>\r\n        <button onClick={this.Increment}>Increment</button>\r\n        <button onClick={this.Decrement}>Decrement</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ClassCounter;\r\n","import React from \"react\";\r\nimport classes from \"./MyInput.module.css\";\r\n\r\nconst MyInput = React.forwardRef((props, ref) => {\r\n  return <input ref={ref} className={classes.myInp} {...props} />;\r\n});\r\n\r\nexport default MyInput;\r\n","import React from \"react\";\r\nimport classes from \"./MySelect.module.css\";\r\n\r\nfunction MySelect({ option, defaultValue, value, onChange }) {\r\n  return (\r\n    <div className={classes.mySelect}>\r\n      <select value={value} onChange={(event) => onChange(event.target.value)}>\r\n        <option disabled value=\"\">\r\n          {defaultValue}\r\n        </option>\r\n        {option.map((option) => (\r\n          <option key={option.value} value={option.value}>\r\n            {option.name}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MySelect;\r\n","import React from \"react\";\r\nimport MyInput from \"./UI/input/MyInput\";\r\nimport MySelect from \"./UI/select/MySelect\";\r\n\r\nfunction PostFilter({ filter, setFilter }) {\r\n  return (\r\n    <div>\r\n      <MyInput\r\n        placeHolder=\"Поиск...\"\r\n        value={filter.query}\r\n        onChange={(e) => setFilter({ ...filter, query: e.target.value })}\r\n      />\r\n\r\n      <MySelect\r\n        value={filter.sort}\r\n        onChange={(selectedSort) =>\r\n          setFilter({ ...filter, sort: selectedSort })\r\n        }\r\n        defaultValue=\"Сортировка\"\r\n        option={[\r\n          { value: \"title\", name: \"По названию\" },\r\n          { value: \"body\", name: \"По описанию\" },\r\n        ]}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostFilter;\r\n","import React from \"react\";\r\nimport classes from \"./MyButton.module.css\";\r\n\r\nconst MyButton = ({children, ...props}) => {\r\n  return <button {...props} className={classes.myBtn}>\r\n      {children}\r\n  </button>;\r\n};\r\n\r\nexport default MyButton;\r\n","import React, { useState } from \"react\";\r\nimport MyButton from \"./UI/button/MyButton\";\r\nimport MyInput from \"./UI/input/MyInput\";\r\n\r\nfunction PostForm({ create }) {\r\n  const [post, setPost] = useState({ title: \"\", body: \"\" });\r\n\r\n  const addNewPost = (e) => {\r\n    e.preventDefault();\r\n    const newPost = {\r\n      ...post,\r\n      id: Date.now(),\r\n    };\r\n    create(newPost);\r\n    setPost({ title: \"\", body: \"\" });\r\n  };\r\n\r\n  return (\r\n    <form>\r\n      <MyInput\r\n        value={post.title}\r\n        onChange={(e) => setPost({ ...post, title: e.target.value })}\r\n        type=\"text\"\r\n        placeholder=\"Название поста\"\r\n      />\r\n      <MyInput\r\n        value={post.body}\r\n        onChange={(e) => setPost({ ...post, body: e.target.value })}\r\n        type=\"text\"\r\n        placeholder=\"Описание поста\"\r\n      />\r\n      <MyButton onClick={addNewPost}>Создать пост</MyButton>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default PostForm;\r\n","import React from \"react\";\r\nimport MyButton from \"./UI/button/MyButton\";\r\n\r\nconst PostItem = (props) => {\r\n  return (\r\n    <div className=\"post\">\r\n      <div className=\"post__content\">\r\n        <strong>\r\n          {props.post.id} {props.post.title}{\" \"}\r\n        </strong>\r\n        <div> {props.post.body} </div>\r\n      </div>\r\n      <div className=\"post__btns\">\r\n        <MyButton onClick={() => props.remove(props.post)}>Удалить</MyButton>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostItem;\r\n","import React from \"react\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport PostItem from \"./PostItem\";\r\n\r\nfunction PostList({ posts, title, remove }) {\r\n  if (!posts.length === 0) {\r\n    return <h1 style={{ textAlign: \"center\" }}>Посты не найдены!</h1>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1 style={{ textAlign: \"center\" }}>{title}</h1>\r\n      <TransitionGroup>\r\n        {posts.map((post, index) => (\r\n          <CSSTransition key={post.id} timeout={500} classNames=\"post\">\r\n            <PostItem remove={remove} number={index + 1} post={post} />\r\n          </CSSTransition>\r\n        ))}\r\n      </TransitionGroup>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostList;\r\n","import React from \"react\";\r\nimport cl from \"./Loader.module.css\";\r\n\r\nfunction Loader() {\r\n  return <div className={cl.loader}></div>;\r\n}\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport cl from \"./MyModal.module.css\";\r\n\r\nfunction MyModal({ children , visible, setVisible }) {\r\n\r\n    const rootClasses = [cl.myModal] \r\n    if( visible) {\r\n        rootClasses.push(cl.active);\r\n    }\r\n\r\n  return (\r\n    <div className={rootClasses.join(\" \")} onClick = { () => {\r\n        setVisible(false)\r\n    }}>\r\n      <div className={cl.myModalContent} onClick = { (e) => {\r\n          e.stopPropagation();\r\n      }}>{children}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyModal;\r\n","export const getPageCount = (totalCount, limit) => {\r\n  return Math.ceil(totalCount / limit);\r\n};\r\n\r\nexport const getPagesArray = (totalPages) => {\r\n  let result = [];\r\n\r\n  for (let i = 0; i < totalPages; i++) {\r\n    result.push(i + 1);\r\n  }\r\n\r\n  return result;\r\n};\r\n","import React from \"react\";\r\nimport { getPagesArray } from \"../../../utils/page\";\r\n\r\nconst Pagination = ({ totalPages, page, changePage }) => {\r\n  let pagesArray = getPagesArray(totalPages);\r\n  return (\r\n    <div className=\"page__wrapper\">\r\n      {pagesArray.map((p) => (\r\n        <span\r\n          onClick={() => changePage(p)}\r\n          key={p}\r\n          className={page === p ? \"page page__current\" : \"page\"}\r\n        >\r\n          {p}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import { useMemo } from \"react\";\r\n\r\nexport const useSortedPosts = (posts, sort) => {\r\n  const sortedPosts = useMemo(() => {\r\n    if (sort) {\r\n      return [...posts].sort((a, b) => a[sort].localeCompare(b[sort]));\r\n    }\r\n    return posts;\r\n  }, [sort, posts]);\r\n\r\n  return sortedPosts;\r\n};\r\n\r\nexport const usePosts = (posts, sort, query) => {\r\n  const sortedPosts = useSortedPosts(posts, sort);\r\n  const sortedAndSearchedPosts = useMemo(() => {\r\n    return sortedPosts.filter((post) =>\r\n      post.title.toLowerCase().includes(query)\r\n    );\r\n  }, [query, sortedPosts]);\r\n\r\n  return sortedAndSearchedPosts;\r\n};\r\n","import axios from \"axios\";\nimport React, { useEffect, useMemo, useReducer, useRef, useState } from \"react\";\nimport PostService from \"./API/PostService\";\nimport ClassCounter from \"./components/ClassCounter\";\nimport Counter from \"./components/Counter\";\nimport PostFilter from \"./components/PostFilter\";\nimport PostForm from \"./components/PostForm\";\nimport PostItem from \"./components/PostItem\";\nimport PostList from \"./components/PostList\";\nimport MyButton from \"./components/UI/button/MyButton\";\nimport MyInput from \"./components/UI/input/MyInput\";\nimport Loader from \"./components/UI/loader/Loader\";\nimport MyModal from \"./components/UI/modal/MyModal\";\nimport Pagination from \"./components/UI/pagination/pagintaion\";\nimport MySelect from \"./components/UI/select/MySelect\";\nimport { useFetching } from \"./hooks/useFetching\";\nimport { usePosts } from \"./hooks/usePosts\";\nimport \"./styles/App.css\";\nimport { getPageCount, getPagesArray } from \"./utils/page\";\n\nfunction App() {\n  const [posts, setPosts] = useState([]);\n  const [filter, setFilter] = useState({ sort: \"\", query: \"\" });\n  const [modal, setModal] = useState(false);\n  const [totalPages, setTotalPages] = useState(0);\n  const [limit, setLimit] = useState(10);\n  const [page, setPage] = useState(1);\n  const sortedAndSearchedPosts = usePosts(posts, filter.sort, filter.query);\n\n  const [fetchPosts, isPostsLoading, postError] = useFetching(\n    async (limit, page) => {\n      const response = await PostService.getAll(limit, page);\n      setPosts(response.data);\n      const totalCount = response.headers[\"x-total-count\"];\n      setTotalPages(getPageCount(totalCount, limit));\n    }\n  );\n\n  useEffect(() => {\n    fetchPosts(limit, page);\n  }, []);\n\n  const createPost = (newPost) => {\n    setPosts([...posts, newPost]);\n    setModal(false);\n  };\n\n  const removePost = (post) => {\n    setPosts(posts.filter((p) => p.id !== post.id));\n  };\n\n  const changePage = (page) => {\n    setPage(page);\n    fetchPosts(limit, page);\n  };\n\n  return (\n    <div className=\"App\">\n      <MyButton\n        style={{ marginTop: \"30px\" }}\n        onClick={() => {\n          setModal(true);\n        }}\n      >\n        Создать запись\n      </MyButton>\n      <MyModal visible={modal} setVisible={setModal}>\n        <PostForm create={createPost} />\n      </MyModal>\n\n      <hr style={{ margin: \"15px 0px\" }} />\n\n      <PostFilter filter={filter} setFilter={setFilter} />\n\n      {postError && <h1>Произошла ошибка {postError}</h1>}\n\n      {isPostsLoading ? (\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: \"50px\",\n          }}\n        >\n          <Loader />\n        </div>\n      ) : (\n        <PostList\n          remove={removePost}\n          posts={sortedAndSearchedPosts}\n          title=\"Список постов 1\"\n        />\n      )}\n\n      <Pagination page={page} changePage={changePage} totalPages={totalPages} />\n    </div>\n  );\n}\n\nexport default App;\n","import { useState } from \"react\";\r\n\r\nexport const useFetching = (callback) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const fetching = async (...args) => {\r\n    try {\r\n      setIsLoading(true);\r\n      await callback(...args);\r\n    } catch (e) {\r\n      setError(e.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return [fetching, isLoading, error];\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\n    <App/>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}